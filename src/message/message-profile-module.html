<link rel="import" href="../../bower_components/paper-badge/paper-badge.html">
 <dom-module id="message-profile-module">
  <template>
    <style include="wrapper-module">
        .rounded {
            width:36px;
            height:36px;
            border-radius:50%;
            background:#9e9e9e center center no-repeat;
            background-size:contain;
            position:relative;
            float:left;
        }
        #time {
            color:#777;
        }
        hr {
            width:95%;
            height:1px;
            background-color:#DDD;
            border:0;
        }
        #newMessages {
            color:#E53935;
            --iron-icon-width:24px;
            --iron-icon-height:24px;
        }
        #newmsgbadge {
            --paper-badge-background:#B71C1C;
        }
        #messageCount {
            color:#DB4437;
            font-size:12px;
        }
        iron-image {
            width:48px;
            height:48px;
        }
        paper-item {
            --paper-item :{
                white-space: nowrap;
                width:100%;
            }
        }
    </style>
    <paper-icon-item>
       <div class="rounded" style="background-image:url([[imgsrc]])" item-icon></div>
        <paper-item-body two-line>
            <div>[[name]]</div>
            <div secondary>[[lastmsg]]</div>
        </paper-item-body>
        <div id="time">[[time]] <br></div>
        <div id="messages">
            <iron-icon icon="icons:markunread" id="newMessages"></iron-icon>
            <paper-badge for="newMessages" label="{{newmsg}}" id="newmsgbadge"></paper-badge>
        </div>
    </paper-icon-item>
    <hr>
  </template>
  <script>
    Polymer({
      is: 'message-profile-module',
        properties: {
            imgsrc : String,
            time : String,
            name : String,
            identifier : String,
            newmsg : String,
            index : String,
            lastmsg : String
        },
        ready : function() {
            if(this.newmsg=="0") {
                this.$.newMessages.style.display="none";
                this.$.newmsgbadge.style.display="none";
            }
            else {
                this.$.newMessages.style.display="inline-block";
                this.$.newmsgbadge.style.display="flex";
            }
        }

    })
  </script>
</dom-module>
