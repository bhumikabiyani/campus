<link rel="import" href="../../bower_components/iron-icons/editor-icons.html">
<link rel="import" href="message-emoji-box.html">
<dom-module id="message-input-mobile">
    <template>
    <style include="wrapper-module">
        paper-input {
            color:#777;
            position:absolute;
            width:95%;
            margin-left:auto;
            margin-right:auto;
            bottom:5%;
        }
        #emojiTarget {
            width:20vw;
            height:20vh;
        }
        paper-fab {
            position: absolute;
            margin-bottom:20px;
            right:0;
            bottom:0;
            --paper-fab-background:#303F9F;
        }
    </style>
        <paper-input label="Write a message.." id="msg" no-label-float on-keydown="checkForEnter">
            <paper-menu-button id="menuButton" prefix vertical-align="bottom" horizontal-align="right">
                <paper-icon-button icon="editor:insert-emoticon" class="dropdown-trigger"></paper-icon-button>
                <div style="background-color:#fff" class="dropdown-content" id="emojiTarget">
                    
                </div>
            </paper-menu-button>
        </paper-input>
        <paper-fab icon="send" on-tap="send"></paper-fab>
    </template>
    <script>
        Polymer({
            is: 'message-input-mobile',
            properties: {
                target: {
                    type: Object,
                    value: function() {
                        return this.$.msg;
                    }
                },
                emojis: {
                    type: Array,
                    value: [{
                        emoji: "ğŸ˜‚"
                    }, {
                        emoji: "ğŸ˜ƒ"
                    }, {
                        emoji: "ğŸ˜„"
                    }, {
                        emoji: "ğŸ˜†"
                    }, {
                        emoji: "ğŸ˜”"
                    }, {
                        emoji: "ğŸ˜–"
                    }, {
                        emoji: "ğŸ˜"
                    }, {
                        emoji: "ğŸ˜‰"
                    }, {
                        emoji: "ğŸ˜Š"
                    }, {
                        emoji: "ğŸ˜–"
                    }, {
                        emoji: "ğŸ˜’"
                    }, {
                        emoji: "ğŸ˜”"
                    }, {
                        emoji: "ğŸ˜’"
                    }, {
                        emoji: "ğŸ˜“"
                    }, {
                        emoji: "ğŸ˜¡"
                    }, {
                        emoji: "ğŸ˜¢"
                    }, {
                        emoji: "ğŸ˜£"
                    }, {
                        emoji: "ğŸ˜¨"
                    }, {
                        emoji: "ğŸ˜©"
                    }, {
                        emoji: "ğŸ˜‰"
                    }, {
                        emoji: "ğŸ˜Š"
                    }, {
                        emoji: "ğŸ˜‹"
                    }, {
                        emoji: "ğŸ˜"
                    }, {
                        emoji: "ğŸ˜œ"
                    }, {
                        emoji: "ğŸ˜"
                    }, {
                        emoji: "ğŸ˜­"
                    }, {
                        emoji: "ğŸ˜°"
                    }, {
                        emoji: "ğŸ˜±"
                    }, {
                        emoji: "ğŸ˜ "
                    }, {
                        emoji: "ğŸš²"
                    }, {
                        emoji: "ğŸš©"
                    }, {
                        emoji: "ğŸšª"
                    }, {
                        emoji: "ğŸš«"
                    }, {
                        emoji: "ğŸšŒ"
                    }, {
                        emoji: "ğŸš•"
                    }, {
                        emoji: "ğŸš—"
                    }, {
                        emoji: "ğŸš™"
                    }, {
                        emoji: "ğŸšš"
                    }, {
                        emoji: "ğŸš§"
                    }, {
                        emoji: "âš½"
                    }, {
                        emoji: "âš¾"
                    }, {
                        emoji: "âš«"
                    }, {
                        emoji: "âšª"
                    }, {
                        emoji: "â›„"
                    }, {
                        emoji: "â›…"
                    }, {
                        emoji: "â›”"
                    }, {
                        emoji: "â›µ"
                    }, {
                        emoji: "â›½"
                    }, {
                        emoji: "â¬›"
                    }, {
                        emoji: "â¬œ"
                    }, {
                        emoji: "â­•"
                    }, {
                        emoji: "ğŸŒ‡"
                    }, {
                        emoji: "ğŸŒˆ"
                    }, {
                        emoji: "ğŸŒ"
                    }, {
                        emoji: "ğŸŒ•"
                    }, {
                        emoji: "ğŸŒ™"
                    }, {
                        emoji: "ğŸŒŸ"
                    }, {
                        emoji: "ğŸŒ "
                    }, {
                        emoji: "ğŸŒ±"
                    }, {
                        emoji: "ğŸŒ¿"
                    }, {
                        emoji: "ğŸ€"
                    }, {
                        emoji: "ğŸ…"
                    }, {
                        emoji: "ğŸ†"
                    }, {
                        emoji: "ğŸ"
                    }, {
                        emoji: "ğŸ"
                    }, {
                        emoji: "ğŸ’"
                    }, {
                        emoji: "ğŸ“"
                    }, {
                        emoji: "ğŸ”"
                    }, {
                        emoji: "ğŸ•"
                    }, {
                        emoji: "ğŸ—"
                    }, {
                        emoji: "ğŸœ"
                    }, {
                        emoji: "ğŸŸ"
                    }, {
                        emoji: "ğŸ"
                    }, {
                        emoji: "ğŸ©"
                    }, {
                        emoji: "ğŸ«"
                    }, {
                        emoji: "ğŸª"
                    }, {
                        emoji: "ğŸ³"
                    }, {
                        emoji: "ğŸ²"
                    }, {
                        emoji: "ğŸ·"
                    }, {
                        emoji: "ğŸ¸"
                    }, {
                        emoji: "ğŸ…"
                    }, {
                        emoji: "ğŸƒ"
                    }, {
                        emoji: "ğŸ‚"
                    }, {
                        emoji: "ğŸ"
                    }, {
                        emoji: "ğŸ‡"
                    }, {
                        emoji: "ğŸˆ"
                    }, {
                        emoji: "ğŸ“"
                    }, {
                        emoji: "ğŸ¨"
                    }, {
                        emoji: "ğŸ®"
                    }, {
                        emoji: "ğŸ±"
                    }, {
                        emoji: "ğŸµ"
                    }, {
                        emoji: "ğŸ¸"
                    }, {
                        emoji: "ğŸº"
                    }, {
                        emoji: "ğŸ"
                    }, {
                        emoji: "ğŸ¾"
                    }, {
                        emoji: "ğŸ†"
                    }, {
                        emoji: "ğŸ¬"
                    }, {
                        emoji: "ğŸ’¤"
                    }, {
                        emoji: "ğŸ’§"
                    }, {
                        emoji: "ğŸ’©"
                    }, {
                        emoji: "ğŸ’°"
                    }, {
                        emoji: "ğŸ“Œ"
                    }, {
                        emoji: "ğŸ“"
                    }, {
                        emoji: "ğŸ“"
                    }, {
                        emoji: "ğŸ“‘"
                    }, {
                        emoji: "ğŸ“”"
                    }, {
                        emoji: "ğŸ“•"
                    }, {
                        emoji: "ğŸ“–"
                    }, {
                        emoji: "ğŸ“—"
                    }, {
                        emoji: "ğŸ“˜"
                    }, {
                        emoji: "ğŸ“™"
                    }, {
                        emoji: "ğŸ“š"
                    }, {
                        emoji: "ğŸ“œ"
                    }, {
                        emoji: "ğŸ“"
                    }, {
                        emoji: "ğŸ“"
                    }, {
                        emoji: "ğŸ“«"
                    }, {
                        emoji: "ğŸ“±"
                    }, {
                        emoji: "ğŸ“·"
                    }, {
                        emoji: "ğŸ“¹"
                    }, {
                        emoji: "ğŸ”"
                    }, {
                        emoji: "ğŸ”‘"
                    }, {
                        emoji: "ğŸ””"
                    }, {
                        emoji: "ğŸ”–"
                    }, {
                        emoji: "ğŸ”—"
                    }, {
                        emoji: "ğŸ”¥"
                    }, {
                        emoji: "ğŸ”¦"
                    }, {
                        emoji: "ğŸ”§"
                    }, {
                        emoji: "ğŸ”ª"
                    }, {
                        emoji: "ğŸ”´"
                    }, {
                        emoji: "ğŸ”µ"
                    }, {
                        emoji: "ğŸ”¶"
                    }, {
                        emoji: "ğŸ”·"
                    }, {
                        emoji: "ğŸ•”"
                    }, {
                        emoji: "ğŸ—½"
                    }, {
                        emoji: "ğŸ—¼"
                    }, {
                        emoji: "ğŸ˜‡"
                    }, {
                        emoji: "ğŸ˜"
                    }, {
                        emoji: "ğŸ˜‘"
                    }, {
                        emoji: "ğŸ˜Ÿ"
                    }, {
                        emoji: "ğŸ˜›"
                    }, {
                        emoji: "ğŸ˜¦"
                    }, {
                        emoji: "ğŸ˜Ÿ"
                    }, {
                        emoji: "ğŸ˜§"
                    }, {
                        emoji: "ğŸ˜®"
                    }, {
                        emoji: "ğŸ˜¯"
                    }, {
                        emoji: "ğŸ˜´"
                    }, {
                        emoji: "ğŸ˜¶"
                    }, {
                        emoji: "ğŸš"
                    }, {
                        emoji: "ğŸš†"
                    }, {
                        emoji: "ğŸšˆ"
                    }, {
                        emoji: "ğŸšŠ"
                    }, {
                        emoji: "ğŸš–"
                    }, {
                        emoji: "ğŸš"
                    }, {
                        emoji: "ğŸš"
                    }, {
                        emoji: "ğŸš›"
                    }, {
                        emoji: "ğŸš"
                    }, {
                        emoji: "ğŸšœ"
                    }, {
                        emoji: "ğŸš¦"
                    }, {
                        emoji: "ğŸ›"
                    }, {
                        emoji: "ğŸ›„"
                    }, {
                        emoji: "ğŸŒ"
                    }, {
                        emoji: "ğŸŒ"
                    }, {
                        emoji: "ğŸŒš"
                    }, {
                        emoji: "ğŸŒ"
                    }, {
                        emoji: "ğŸŒ"
                    }, {
                        emoji: "ğŸŒ²"
                    }, {
                        emoji: "ğŸŒ³"
                    }, {
                        emoji: "ğŸ‹"
                    }, {
                        emoji: "ğŸ•"
                    }, {
                        emoji: "ğŸ“"
                    }, {
                        emoji: "ğŸ–"
                    }, {
                        emoji: "ğŸ”•"
                    }]
                }
            },
            ready: function() {
                for (var i = 0; i < this.emojis.length; i++) {
                    var item = document.createElement('message-emoji-box');
                    this.$.emojiTarget.appendChild(item);
                    item.emoji = this.emojis[i].emoji;
                    item.update();
                }
            },
            addEmoji: function(em) {
                this.$.msg.value = this.$.msg.value + " " + em + " ";
            },
            send: function() {
                var msg = this.$.msg.value;
                if (!/\S/.test(msg)) return;
                this.$.msg.value = "";
                this.domHost.sendMessage(msg);
            },
            checkForEnter: function(e) {
                if (e.keyCode === 13) {
                    this.send();
                }
            }
        })
    </script>
</dom-module>