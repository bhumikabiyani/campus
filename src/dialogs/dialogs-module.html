<link rel="import" href="dialogs-chat-module.html">
<link rel="import" href="dialogs-list-module.html">

<dom-module id="dialogs-module">
  <template>
    <app-location route="{{route}}" ></app-location>
    <app-route
               route="{{route}}"
               pattern="/dialogs/:personId"
               data="{{router}}"
               tail="{{subroute}}"
               active="{{idActive}}"
               >
    </app-route>
    <iron-pages id="pages">
      <dialogs-list-module></dialogs-list-module>
      <dialogs-chat-module personId="{{personId}}"></dialogs-chat-module>
    </iron-pages>
  </template>
  <script>
    Polymer({
      is: 'dialogs-module',
      observers: [
        'activeChanged(idActive)'
      ],

      activeChanged: function(active){
        if(active){
          this.$.pages.select(1)
        } else {
          this.$.pages.select(0)
        }

        console.log(this.$.pages.selected)
      }
    })
  </script>
</dom-module>
