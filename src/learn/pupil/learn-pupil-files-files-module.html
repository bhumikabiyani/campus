<link rel="import" href="learn-pupil-files-file-module.html">

<dom-module id="learn-pupil-files-files-module">
  <template>
    <style include="wrapper-module">
    </style>
    <iron-list id="list" items="[[files]]" as="file" grid class="mw">
      <template>
        <learn-pupil-files-file-module file="[[file]]" index="[[index]]"></learn-pupil-files-file-module>
      </template>
    </iron-list>
  </template>
  <script>
    Polymer({
      is: 'learn-pupil-files-files-module',

      observers:[
        'subChanged(sub)'
      ],

      listeners:{
        'delete':'delete'
      },

      behaviors: [
        DatabaseBehavior
      ],

      subChanged:function(sub){
        if(sub){
          var files = [];
          for(var index in sub){
            files.push(sub[index])
          };
          this.files = files;
        }
      },

      delete:function(e){
        console.log(this.files[e.detail.index])
      },

      add:function(){

      }
    })
  </script>
</dom-module>
